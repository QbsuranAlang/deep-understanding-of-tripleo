# 镜像制作

---

镜像可以是RHEL或者是CentOS，这里使用CentOS作为示例。

## 准备yum 源

准备 centos-base,updates,epel,openstack 这四个源
确保镜像中有centos-base,updates,epel,openstack 这四个源

## 准备镜像
1. 这里使用CentOS7-1611的镜像。
2. 删除镜像中所有的yum repo 文件，放入我们准备好的yum repo
```
#删除yum repo
$virt-customize -a CentOS-7-x86_64-GenericCloud-1611.qcow2 --run-command 'rm -f /etc/yum.repos.d/*'
#上传自定义的yum repo
$virt-customize -a CentOS-7-x86_64-GenericCloud-1611.qcow2 --upload uos-4.0-production.repo:/etc/yum.repos.d/
```
3. 